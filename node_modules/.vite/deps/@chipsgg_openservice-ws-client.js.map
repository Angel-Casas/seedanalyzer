{
  "version": 3,
  "sources": ["browser-external:assert", "../../@chipsgg/openservice-ws-client/dist/index.js", "dep:@chipsgg_openservice-ws-client"],
  "sourcesContent": ["export default new Proxy({}, {\n  get() {\n    throw new Error('Module \"assert\" has been externalized for browser compatibility and cannot be accessed in client code.')\n  }\n})", "function e(e){return e&&'object'==typeof e&&'default'in e?e:{default:e}}Object.defineProperty(exports,'__esModule',{value:!0});var n=e(require('assert')),t={decode:function(e){return JSON.parse(e)},encode:function(e){return JSON.stringify(e)},isEvent:function(e){return null==e[1]},isRpc:function(e){return null!=e[1]}};const r=t.touch=function(e={},n=[],t=(e=>e),o=0){if(0==n.length)return data;if(o==n.length-1)return t(e,n[o]),e;const s=n[o];return e[s]={...e[s]},r(e[s],n,t,o+1),e};t.set=function(e,n,t){return r(e,n,((e,n)=>e[n]=t))};const o=t.unset=function(e={},n=[],t=((e,n)=>delete e[n]),r=0){if(0==n.length)return data;if(r==n.length-1)return t(e,n[r]),e;const s=n[r];return null==e[s]||(e[s]={...e[s]},o(e[s],n,t,r+1)),e},{set:s,unset:c}=t;const{encode:u}=t;const a=n.default;const i=(e={})=>(n,[t=[],r])=>(t.length?e[n]=null==r?c({...e[n]},t):s({...e[n]},t,r):e[n]=r,e[n]),l=n.default,f=(e,n,t=(e=>e))=>async()=>{const r=new e(n);return await new Promise(((e,n)=>{r.onopen=n=>{r.readyState===r.OPEN&&(t('open',n),e())},r.onerror=e=>n(e),r.onclose=e=>n(e)})),r.onmessage=e=>t('message',e.data),r.onerror=e=>t('error',e),r.onclose=e=>t('close',e),r.onopen=e=>{r.readyState===r.OPEN&&t('open',e)},r},d=e=>{const n=new Map;let t=0;return{call:function(e,r){return(o,...s)=>new Promise(((c,a)=>{n.set(++t,[c,a]);try{e().send(u([r,t,o,s]))}catch(e){a(e)}}))},response:function(e){const[t,r,o,s]=e;if(!n.has(r))return;const[c,u]=n.get(r);if(s){const[e,n]=s,t=new Error(e);t.stack=n,u(t)}else c(o);n.delete(r)},pending:n}},p=({keepalive:e=3e4},{ws:n,connect:t},r=(e=>e))=>{let o;async function s(){n.readyState,n.OPEN,n.readyState===n.CLOSED&&await t().then((e=>{r('reconnect',n=e)})).catch((e=>{})),o=setTimeout(s,e)}return a(e,'requires keepalive value in ms'),{pause:()=>clearTimeout(o),resume(){if(!o)return s()}}},{decode:h,isEvent:g,isRpc:m}=t;var y=async(e,n={},t=(e=>e),r={})=>{const{host:o,channels:s=[]}=n;l(o,'requires host'),l(s,'requires channels');const c=d(),u=i(r);const a=f(e,o,((e,n)=>{'message'==e?function(e,n){const o=h(n);let s=!1;o.forEach((e=>{g(e)?(s=!0,u(e[0],e[2])):m(e)&&c.response(e)})),s&&t('change',r)}(0,n):t(e,n)}));let y=await a();function w(){return y}const v=p(n,{ws:y,connect:a},((e,n)=>{y=n,t(e,y)}));v.resume();return s.reduce(((e,n)=>(e.actions[n]=c.call(w,n),e)),{actions:{},rpc:c,getWs:w,setState:u,...v,connect:a,close:function(){v.pause(),y.close()}})};var w=y;exports.default=w,module.exports=exports.default;\n", "export default require(\"./node_modules/@chipsgg/openservice-ws-client/dist/index.js\");"],
  "mappings": "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",
  "names": ["e", "n", "t", "o", "s", "r", "c", "a", "u", "y", "w"]
}
